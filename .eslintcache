[{"D:\\react-project\\pokemon-web-app\\src\\index.js":"1","D:\\react-project\\pokemon-web-app\\src\\App.js":"2","D:\\react-project\\pokemon-web-app\\src\\reportWebVitals.js":"3","D:\\react-project\\pokemon-web-app\\src\\graphql\\queries.js":"4","D:\\react-project\\pokemon-web-app\\src\\components\\navbar\\Navbar.js":"5","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\pokemon-detail\\PokemonDetail.js":"6","D:\\react-project\\pokemon-web-app\\src\\components\\pokemon-card\\PokemonCard.js":"7","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\error-page\\ErrorPage.js":"8","D:\\react-project\\pokemon-web-app\\src\\components\\button\\Button.js":"9","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\my-pokemons\\Mypokemons.js":"10","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\pokedex\\PokeDex.js":"11","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\my-pokemons\\MyPokemons.js":"12","D:\\react-project\\pokemon-web-app\\src\\components\\modal\\Modal.js":"13"},{"size":527,"mtime":1612339091934,"results":"14","hashOfConfig":"15"},{"size":2103,"mtime":1612515901270,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"17","hashOfConfig":"15"},{"size":989,"mtime":1612435635105,"results":"18","hashOfConfig":"15"},{"size":2178,"mtime":1612461558220,"results":"19","hashOfConfig":"15"},{"size":7543,"mtime":1612518513870,"results":"20","hashOfConfig":"15"},{"size":1829,"mtime":1612498393211,"results":"21","hashOfConfig":"15"},{"size":397,"mtime":1612497454642,"results":"22","hashOfConfig":"15"},{"size":209,"mtime":1612516054532,"results":"23","hashOfConfig":"15"},{"size":1042,"mtime":1612441655592,"results":"24","hashOfConfig":"15"},{"size":3770,"mtime":1612508335974,"results":"25","hashOfConfig":"15"},{"size":2986,"mtime":1612517906317,"results":"26","hashOfConfig":"15"},{"size":3098,"mtime":1612518841649,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"14vob7a",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\react-project\\pokemon-web-app\\src\\index.js",[],["56","57"],"D:\\react-project\\pokemon-web-app\\src\\App.js",[],"D:\\react-project\\pokemon-web-app\\src\\reportWebVitals.js",[],"D:\\react-project\\pokemon-web-app\\src\\graphql\\queries.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\navbar\\Navbar.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\pages\\pokemon-detail\\PokemonDetail.js",["58","59"],"D:\\react-project\\pokemon-web-app\\src\\components\\pokemon-card\\PokemonCard.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\pages\\error-page\\ErrorPage.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\button\\Button.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\pages\\my-pokemons\\Mypokemons.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\pages\\pokedex\\PokeDex.js",["60","61"],"import React, { useEffect, useState } from 'react';\r\nimport { useLazyQuery } from \"@apollo/client\";\r\nimport {  useHistory } from'react-router-dom';\r\nimport { GET_POKEMONS } from \"../../../graphql/queries\";\r\n\r\nimport PokemonCard from \"../../pokemon-card/PokemonCard\";\r\nimport Button from \"../../button/Button\";\r\nimport Box from '../../../images/icon_box.png';\r\n\r\n\r\nimport \"./PokeDex.css\";\r\n\r\n\r\nfunction PokemonList() {\r\n    const history = useHistory();\r\n\r\n    const [webData, setWebData] = useState([]);\r\n    const [loadingState, setLoadingState] = useState(true);\r\n    const [nextPokemons, { error, data }] = useLazyQuery(GET_POKEMONS);\r\n\r\n    const limit = 10;\r\n\r\n    useEffect(() => {\r\n        const localPokemon = localStorage.getItem('pokemon-data');\r\n        const localOffset = localStorage.getItem('pokemon-data-offset');\r\n        const d = [];\r\n        \r\n        if (localPokemon) {\r\n            d[0] = JSON.parse(localPokemon);\r\n        }\r\n        if (localOffset) {\r\n            d[1] = JSON.parse(localOffset);\r\n        }\r\n\r\n        if(d.length > 0) {\r\n            setWebData(d);\r\n        } \r\n\r\n        if (!localOffset && loadingState) {\r\n            nextPokemons({ variables: { limit: 10, offset: 0} });\r\n        }\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (data && loadingState) {\r\n            let prevPokemons = (webData.length > 0 ? webData[0]: []);\r\n            let updatedPokemons = [];\r\n\r\n            if(prevPokemons.length > 0) {\r\n                prevPokemons.forEach(p => {\r\n                    updatedPokemons.push(p)\r\n                });\r\n            }\r\n\r\n            data.pokemons.results.forEach(p => {\r\n                updatedPokemons.push(p)\r\n            })\r\n\r\n            const d = [];\r\n            d[0] = updatedPokemons;\r\n            d[1] = data.pokemons.nextOffset;\r\n\r\n            setWebData(d);\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        if (webData.length > 0) {\r\n            localStorage.setItem('pokemon-data', JSON.stringify(webData[0]));\r\n            localStorage.setItem('pokemon-data-offset', JSON.stringify(webData[1]));\r\n            setLoadingState(false);\r\n        }\r\n    }, [webData])\r\n\r\n    function loadMore(offset) {\r\n        const localOffset = localStorage.getItem('pokemon-data-offset');\r\n\r\n        if (offset === JSON.parse(localOffset)) {\r\n            setLoadingState(true);\r\n            nextPokemons({ variables: { limit: limit, offset:  offset} });\r\n        } else {\r\n            const localPokemon = localStorage.getItem('pokemon-data');\r\n            const localOffset = localStorage.getItem('pokemon-data-offset');\r\n            const d = [];\r\n            d[0] = JSON.parse(localPokemon);\r\n            d[1] = JSON.parse(localOffset);\r\n\r\n            setWebData(d);\r\n        }\r\n    }\r\n\r\n    function toBox() {\r\n        history.push('/mypokemons');\r\n    }\r\n\r\n    if (error) {\r\n        return <h1> Error fetching data from </h1> ;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"icon-box-container\" title=\"MyPokemons\" onClick={() => toBox()}>\r\n                <img src={Box} alt=\"box\" className=\"icon-box\"/>\r\n            </div>\r\n            <div className=\"grid-container\"> \r\n                { webData.length > 0 ? \r\n                    <>\r\n                    {webData[0].map((pokemon) => {\r\n                        return <PokemonCard key={pokemon.id} pokemon={pokemon} />\r\n                    })}\r\n                    </>\r\n                : null\r\n                } \r\n            </div> \r\n\r\n            { !loadingState ?\r\n                <div className=\"load-more\" onClick={() => loadMore(webData[1])}>\r\n                    <Button text=\"load more\"></Button>\r\n                </div> : <h1>Loading...</h1>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PokemonList\r\n","D:\\react-project\\pokemon-web-app\\src\\components\\pages\\my-pokemons\\MyPokemons.js",[],"D:\\react-project\\pokemon-web-app\\src\\components\\modal\\Modal.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":32,"column":8,"nodeType":"68","endLine":32,"endColumn":10,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":39,"column":8,"nodeType":"68","endLine":39,"endColumn":14,"suggestions":"71"},{"ruleId":"66","severity":1,"message":"72","line":43,"column":8,"nodeType":"68","endLine":43,"endColumn":10,"suggestions":"73"},{"ruleId":"66","severity":1,"message":"74","line":66,"column":8,"nodeType":"68","endLine":66,"endColumn":14,"suggestions":"75"},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPokemon'. Either include it or remove the dependency array.","ArrayExpression",["78"],"React Hook useEffect has a missing dependency: 'loadingState'. Either include it or remove the dependency array.",["79"],"React Hook useEffect has missing dependencies: 'loadingState' and 'nextPokemons'. Either include them or remove the dependency array.",["80"],"React Hook useEffect has missing dependencies: 'loadingState' and 'webData'. Either include them or remove the dependency array.",["81"],"no-global-assign","no-unsafe-negation",{"desc":"82","fix":"83"},{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},{"desc":"88","fix":"89"},"Update the dependencies array to be: [getPokemon]",{"range":"90","text":"91"},"Update the dependencies array to be: [data, loadingState]",{"range":"92","text":"93"},"Update the dependencies array to be: [loadingState, nextPokemons]",{"range":"94","text":"95"},"Update the dependencies array to be: [data, loadingState, webData]",{"range":"96","text":"97"},[1119,1121],"[getPokemon]",[1246,1252],"[data, loadingState]",[1238,1240],"[loadingState, nextPokemons]",[1856,1862],"[data, loadingState, webData]"]