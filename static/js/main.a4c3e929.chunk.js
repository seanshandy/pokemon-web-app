(this["webpackJsonppokemon-web-app"]=this["webpackJsonppokemon-web-app"]||[]).push([[0],{242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},459:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(2),s=n(232),o=n.n(s),i=(n(242),n(243),n(22)),l=n(58),r=n(72),m=n(0);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var d=c.createElement("circle",{cx:32,cy:32,fill:"#57565c",r:16}),u=c.createElement("path",{d:"m62 32a30 30 0 0 1 -60 0h14a16 16 0 0 0 32 0z",fill:"#c6c5ca"}),O=c.createElement("circle",{cx:32,cy:32,fill:"#c6c5ca",r:10}),h=c.createElement("path",{d:"m62 32h-14a16 16 0 0 0 -32 0h-14a30 30 0 0 1 60 0z",fill:"#d80027"}),p=c.createElement("circle",{cx:32,cy:32,fill:"#cca400",r:3}),f=c.createElement("g",{fill:"#231f20"},c.createElement("path",{d:"m32 1a31 31 0 1 0 31 31 31.035 31.035 0 0 0 -31-31zm0 2a29.03 29.03 0 0 1 28.975 28h-11.975c-.018 0-.033.009-.05.01a16.978 16.978 0 0 0 -33.9 0c-.017 0-.032-.01-.05-.01h-11.975a29.03 29.03 0 0 1 28.975-28zm15 29a15 15 0 1 1 -15-15 15.017 15.017 0 0 1 15 15zm-15 29a29.03 29.03 0 0 1 -28.975-28h11.975c.018 0 .033-.009.05-.01a16.978 16.978 0 0 0 33.9 0c.017 0 .032.01.05.01h11.975a29.03 29.03 0 0 1 -28.975 28z"}),c.createElement("path",{d:"m6.726 25.811a1 1 0 0 0 1.236-.687 24.788 24.788 0 0 1 .961-2.739 1 1 0 0 0 -1.846-.771 27.076 27.076 0 0 0 -1.039 2.961 1 1 0 0 0 .688 1.236z"}),c.createElement("path",{d:"m9.56 18.842a1 1 0 0 0 1.381-.3 24.927 24.927 0 0 1 21.059-11.542 1 1 0 0 0 0-2 26.921 26.921 0 0 0 -22.742 12.46 1 1 0 0 0 .302 1.382z"}),c.createElement("path",{d:"m32 21a11 11 0 1 0 11 11 11.013 11.013 0 0 0 -11-11zm0 20a9 9 0 1 1 9-9 9.01 9.01 0 0 1 -9 9z"}),c.createElement("path",{d:"m32 28a4 4 0 1 0 4 4 4 4 0 0 0 -4-4zm0 6a2 2 0 1 1 2-2 2 2 0 0 1 -2 2z"}));function x(e,t){var n=e.title,a=e.titleId,s=b(e,["title","titleId"]);return c.createElement("svg",j({height:512,viewBox:"0 0 64 64",width:512,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?c.createElement("title",{id:a},n):null,d,u,O,h,p,f)}var v=c.forwardRef(x);n.p,n(244);var g=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],o=function(){return s(!1)};return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(m.b.Provider,{value:{color:"#fff"},children:Object(a.jsx)("div",{className:"navbar",children:Object(a.jsxs)("div",{className:"navbar-container container",children:[Object(a.jsxs)(l.c,{className:"navbar-logo",exact:!0,to:"/",onClick:o,children:[Object(a.jsx)(v,{className:"nav-icon"}),"Poke`mon"]}),Object(a.jsx)("div",{className:"menu-icon",onClick:function(){return s(!n)},children:n?Object(a.jsx)(r.d,{}):Object(a.jsx)(r.b,{})}),Object(a.jsxs)("ul",{className:n?"nav-menu active":"nav-menu",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{exact:!0,to:"/pokedex",className:"nav-links",activeClassName:"is-active",onClick:o,children:"Poke`dex"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.c,{to:"/mypokemons",className:"nav-links",activeClassName:"is-active",onClick:o,children:"MyPokemons"})})]})]})})})})},k=n(24),N=n(42),y=n(233),S=n(100);function w(){var e=Object(S.a)(["\n    query pokemon($name: String!) {\n        pokemon(name: $name) {\n            id\n            name\n            weight\n            height\n            sprites {\n                front_default\n            }\n            abilities {\n                ability {\n                    name\n                    url\n                }\n            }\n            types {\n                type {\n                    name\n                    url\n                }\n            }\n        }\n    }\n"]);return w=function(){return e},e}function C(){var e=Object(S.a)(["\n    query pokemons($limit: Int, $offset: Int) {\n        pokemons(limit: $limit, offset: $offset) {\n            count\n            next\n            previous\n            nextOffset\n            prevOffset\n            status\n            message\n            results {\n                id\n                name\n                image\n            }\n        }\n    }\n"]);return C=function(){return e},e}var E=Object(N.gql)(C()),I=Object(N.gql)(w());n(255);var P=function(e){var t=e.pokemon,n=localStorage.getItem("my-pokemon"),c=!!t.nickname,s=0;return!c&&n?JSON.parse(n).forEach((function(e){e.id===t.id&&s++})):s=0,Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(l.b,{to:"/pokemon/"+t.name+(c?"/"+t.nickname:""),className:"card",children:[Object(a.jsx)("div",{className:"pokemon-image-container",children:Object(a.jsx)("img",{src:t.image,alt:t.name,className:"pokemon-image"})}),Object(a.jsxs)("div",{className:"pokemon-info",children:[Object(a.jsxs)("span",{className:"pokemon-id",children:["#",t.id]}),c?Object(a.jsx)("span",{className:"pokemon-nickname",children:t.nickname}):null,Object(a.jsx)("span",{className:"pokemon-name",children:t.name}),c?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"pokemon-owned",children:"owned:"})," ",Object(a.jsx)("span",{className:"pokemon-total ".concat(s>0?"owned":"not-owned"),children:s})]})]}),c?Object(a.jsx)("span",{className:"mypokemon-id",children:t.mypokemonid}):null]})})};n(256),n(257);var F=function(e){var t=e.text;return Object(a.jsx)("button",{className:"btn",children:t})};var z=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),r=l[0],m=l[1],j=Object(N.useLazyQuery)(E),b=Object(i.a)(j,2),d=b[0],u=b[1],O=(u.loading,u.error),h=u.data;return Object(c.useEffect)((function(){var e=localStorage.getItem("pokemon-data"),t=localStorage.getItem("pokemon-data-offset"),n=[];e&&(n[0]=JSON.parse(e)),t&&(n[1]=JSON.parse(t)),n.length>0&&s(n),!t&&r&&d({variables:{limit:5,offset:0}})}),[]),Object(c.useEffect)((function(){if(console.log("aaaaaa"),h&&r){var e=n.length>0?n[0]:[],t=[];e.length>0&&e.forEach((function(e){t.push(e)})),h.pokemons.results.forEach((function(e){t.push(e)}));var a=[];a[0]=t,a[1]=h.pokemons.nextOffset,s(a)}}),[h]),Object(c.useEffect)((function(){n.length>0&&(console.log(n),localStorage.setItem("pokemon-data",JSON.stringify(n[0])),localStorage.setItem("pokemon-data-offset",JSON.stringify(n[1])),m(!1))}),[n]),O?Object(a.jsx)("h1",{children:" Error fetching data from "}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"grid-container",children:n.length>0?Object(a.jsx)(a.Fragment,{children:n[0].map((function(e){return Object(a.jsx)(P,{pokemon:e},e.id)}))}):null}),r?Object(a.jsx)("h1",{children:"Loading..."}):Object(a.jsx)("div",{className:"load-more",onClick:function(){return function(e){var t=localStorage.getItem("pokemon-data-offset");if(e===JSON.parse(t))m(!0),d({variables:{limit:20,offset:e}});else{var n=localStorage.getItem("pokemon-data"),a=localStorage.getItem("pokemon-data-offset"),c=[];c[0]=JSON.parse(n),c[1]=JSON.parse(a),s(c)}}(n[1])},children:Object(a.jsx)(F,{text:"load more"})})]})},J=(n(258),function(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),s=n[0],o=n[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:"modal ".concat(e.show?"show":""," )"),onClick:function(t){return function(t){if(void 0==e.catched&&!0!==e.catched)return e.onClose();t.stopPropagation()}(t)},children:Object(a.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(a.jsx)("div",{className:"modal-header",children:Object(a.jsx)("h4",{children:e.title})}),Object(a.jsxs)("div",{className:"modal-body",children:[e.body,e.catched?Object(a.jsx)("textarea",{value:s,onChange:function(e){o(e.target.value)}}):null]}),Object(a.jsx)("div",{className:"modal-footer",children:Object(a.jsxs)(a.Fragment,{children:[e.catched?Object(a.jsx)("button",{className:"btn-modal",onClick:function(){var t;""===(t=s).trim()?e.onSavedPokemon("-"):e.onSavedPokemon(t.trim())},children:"Submit"}):e.release?null:Object(a.jsx)("button",{className:"btn-modal",onClick:e.onClose,children:"Close"}),e.release?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn-modal",onClick:function(){e.onReleasePokemon()},children:"Submit"}),Object(a.jsx)("button",{className:"btn-modal",onClick:e.onClose,children:"Cancel"})]}):null]})})]})})})});n(259);var L=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(!0),l=Object(i.a)(o,2),j=l[0],b=l[1],d=Object(c.useState)(!1),u=Object(i.a)(d,2),O=u[0],h=u[1],p=Object(c.useState)(),f=Object(i.a)(p,2),x=(f[0],f[1],0),v=localStorage.getItem("my-pokemon")?localStorage.getItem("my-pokemon"):[],g=v.length>0?JSON.parse(v):[];return Object(c.useEffect)((function(){g.length>0&&s(g),b(!1)}),[]),Object(c.useEffect)((function(){}),[j]),Object(c.useEffect)((function(){O||b(!1)}),[O]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"grid-container",children:[Object(a.jsx)(J,{title:"Release Pokemon",body:"Are you sure want to release this Pokemon?",show:O,onClose:function(){return h(!1)},onReleasePokemon:function(){g.splice(g.findIndex((function(e){return e.mypokemonid===x})),1),localStorage.setItem("my-pokemon",JSON.stringify(g)),s(g),b(!1),h(!1)},release:"release"}),j?Object(a.jsx)("h1",{children:"Loading..."}):n.length>0?n.map((function(e){return Object(a.jsxs)("div",{className:"card-container",children:[Object(a.jsx)(P,{pokemon:e}),Object(a.jsx)("div",{className:"icon-release-box",onClick:function(){return t=e.mypokemonid,b(!0),x=t,void h(!0);var t},children:Object(a.jsx)(m.b.Provider,{value:{className:"icon-release"},children:Object(a.jsx)(r.c,{})})})]},e.mypokemonid)})):Object(a.jsx)("h1",{children:"Let's Catch Some Pokemon!"})]})})};n(260),n(261);var q=function(){var e=Object(k.g)(),t=Object(k.h)().name,n=Object(k.h)().nickname,s=Object(c.useState)(),o=Object(i.a)(s,2),l=o[0],j=o[1],b=Object(c.useState)(!0),d=Object(i.a)(b,2),u=d[0],O=d[1],h=Object(N.useLazyQuery)(I,{variables:{name:t}}),p=Object(i.a)(h,2),f=p[0],x=p[1],v=(x.loading,x.data),g=Object(c.useState)(!1),y=Object(i.a)(g,2),S=y[0],w=y[1],C=Object(c.useState)(),E=Object(i.a)(C,2),P=E[0],z=E[1],L=Object(c.useState)(),q=Object(i.a)(L,2),$=q[0],A=q[1],B=Object(c.useState)(!1),T=Object(i.a)(B,2),R=T[0],H=T[1],M=Object(c.useState)(!1),_=Object(i.a)(M,2),G=_[0],Q=_[1];return Object(c.useEffect)((function(){O(!0),f()}),[]),Object(c.useEffect)((function(){v&&u&&j(v.pokemon)}),[v]),Object(c.useEffect)((function(){l&&(console.log(l),O(!1))}),[l]),Object(c.useEffect)((function(){var n;G&&(w(!0),z("Congrats!"),A(t+"Have been Added to Box!"),H(!1),H(!1),window.setTimeout(w(!1),2e3),n="/mypokemons",e.push(n))}),[G]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"p-detail-page",children:[Object(a.jsx)(J,{title:P,body:$,show:S,catched:R,saved:G,onClose:function(){return w(!1)},onSavedPokemon:function(e){var t=localStorage.getItem("my-pokemon")?localStorage.getItem("my-pokemon"):[],n=t.length>0?JSON.parse(t):[],a=n.length>0?n[n.length-1].mypokemonid+1:1,c=[],s={id:l.id,name:l.name,image:l.sprites.front_default,mypokemonid:a,nickname:e};1===a?c.push(s):(c=n).push(s),localStorage.setItem("my-pokemon",JSON.stringify(c)),Q(!0),w(!1)}}),!u&&l?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(m.b.Provider,{value:{className:"icon-back"},children:Object(a.jsx)("div",{onClick:function(){return e.goBack()},className:"btn-back",children:Object(a.jsx)(r.a,{})})}),Object(a.jsx)("div",{className:"p-detail-header-container",children:Object(a.jsxs)("span",{className:"header-text",children:[l.name," \xa0",Object(a.jsxs)("span",{className:"header-id",children:["#",l.id]})]})}),Object(a.jsxs)("div",{className:"p-detail-container",children:[Object(a.jsxs)("div",{className:"p-detail-image-container",children:[Object(a.jsx)("img",{className:"p-detail-image",src:l.sprites.front_default,alt:"image"}),n?Object(a.jsx)("span",{className:"nickname-text",children:n}):Object(a.jsx)("div",{className:"catch-pokemon",onClick:function(){return function(){O(!0);var e=Math.random();window.setTimeout(null,1e3),e>.5?(z("Gotcha!"),A("Please enter a nick name"),H(!0),w(!0)):(z("Oops"),A("We've lost it, try again!"),H(!1),w(!0),O(!1))}()},children:Object(a.jsx)(F,{text:"catch"})})]}),Object(a.jsxs)("div",{className:"p-detail-info-container",children:[Object(a.jsxs)("div",{className:"p-detail-info-box type-".concat(l.types[0].type.name),children:[Object(a.jsxs)("div",{className:"p-detail-info-box-left",children:[Object(a.jsxs)("div",{className:"box-height",children:[Object(a.jsx)("span",{className:"box-text-title",children:"Height"}),Object(a.jsxs)("span",{className:"box-text-value",children:[l.height," ft"]})]}),Object(a.jsxs)("div",{className:"box-weight",children:[Object(a.jsx)("span",{className:"box-text-title",children:"Weight"}),Object(a.jsxs)("span",{className:"box-text-value",children:[l.weight," lbs"]})]})]}),Object(a.jsx)("div",{className:"p-detail-info-box-right",children:Object(a.jsxs)("div",{className:"box-abilities",children:[Object(a.jsx)("span",{className:"box-text-title",children:"Abilities"}),Object(a.jsx)("ul",{className:"abilitiy",children:l.abilities.map((function(e){return Object(a.jsx)("li",{className:"box-text-value abilities",children:Object(a.jsx)("span",{children:e.ability.name})},e.ability.name)}))})]})})]}),Object(a.jsxs)("div",{className:"p-detail-info-type-box",children:[Object(a.jsx)("span",{className:"box-text-title",children:"Type"}),l.types.map((function(e){return Object(a.jsx)("div",{className:"type type-".concat(e.type.name),children:Object(a.jsx)("span",{className:"type-value",children:e.type.name})},e.type.name)}))]})]})]})]}):Object(a.jsx)("span",{children:"Loading.."})]})})},$=n(236);n(262);function A(){var e=Object(S.a)(["\n        font-size: 5rem;\n        font-weigth: bold;\n        text-transform: uppercase;\n        text-align: center;\n        "]);return A=function(){return e},e}var B=function(){return Object(a.jsx)("div",{css:Object($.a)(A()),className:"not-found",children:"404 Not Found..."})},T=Object(y.a)((function(e){var t=e.graphqlErrors;e.networkError;t&&t.map((function(e){var t=e.message;e.location,e.path;return alert("Graphql error ".concat(t)),null}))})),R=Object(N.from)([T,new N.HttpLink({uri:"https://graphql-pokeapi.vercel.app/api/graphql"})]),H=new N.ApolloClient({cache:new N.InMemoryCache,link:R});var M=function(){return Object(a.jsx)(N.ApolloProvider,{client:H,children:Object(a.jsxs)(l.a,{basename:"/",children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"container page",children:Object(a.jsxs)(k.d,{children:[Object(a.jsx)(k.b,{exact:!0,path:"/",children:Object(a.jsx)(k.a,{to:"/pokedex",component:z})}),Object(a.jsx)(k.b,{exact:!0,path:"/pokedex",component:z}),Object(a.jsx)(k.b,{exact:!0,path:"/mypokemons",component:L}),Object(a.jsx)(k.b,{exact:!0,path:"/pokemon/:name",component:q}),Object(a.jsx)(k.b,{exact:!0,path:"/pokemon/:name/:nickname",component:q}),Object(a.jsx)(k.b,{exact:!0,path:"*",component:B})]})})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,460)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};n(264),n(274);o.a.render(Object(a.jsx)(M,{}),document.getElementById("root")),_()}},[[459,1,2]]]);
//# sourceMappingURL=main.a4c3e929.chunk.js.map