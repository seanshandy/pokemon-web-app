(this["webpackJsonppokemon-web-app"]=this["webpackJsonppokemon-web-app"]||[]).push([[0],{242:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},257:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},262:function(e,t,n){},459:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(3),s=n(232),i=n.n(s),o=(n(242),n(243),n(28)),r=n(58),l=n(98),m=n(0);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},s=Object.keys(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(c=0;c<s.length;c++)n=s[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=a.createElement("circle",{cx:256,cy:256.001,fill:"#040403",r:249.766}),u=a.createElement("g",null,a.createElement("path",{d:"M490.017,254c0,129.243-104.772,234.017-234.017,234.017S21.983,383.243,21.983,254",fill:"#E0E4E8"}),a.createElement("path",{d:"M21.983,258C21.983,128.756,126.756,23.983,256,23.983S490.017,128.756,490.017,258",fill:"#E64C3C"})),p=a.createElement("rect",{fill:"#040404",height:107,width:484,x:14,y:203}),O=a.createElement("circle",{cx:256,cy:256,r:123.772}),f=a.createElement("circle",{cx:256,cy:256,fill:"#E0E4E8",r:75.024}),h=a.createElement("circle",{cx:256,cy:256,r:51.025}),x=a.createElement("circle",{cx:256,cy:256,fill:"#E0E4E8",r:36.026});function v(e,t){var n=e.title,c=e.titleId,s=d(e,["title","titleId"]);return a.createElement("svg",j({enableBackground:"new 0 0 512 512",height:"512px",id:"Layer_1",viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},s),n?a.createElement("title",{id:c},n):null,b,u,p,O,f,h,x)}var g=a.forwardRef(v);n.p,n(244);var k=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],s=t[1],i=function(){return s(!1)};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(m.b.Provider,{value:{color:"#fff"},children:Object(c.jsx)("div",{className:"navbar",children:Object(c.jsxs)("div",{className:"navbar-container container",children:[Object(c.jsxs)(r.c,{className:"navbar-logo",exact:!0,to:"/",onClick:i,children:[Object(c.jsx)(g,{className:"nav-icon"}),"Pokemon"]}),Object(c.jsx)("div",{className:"menu-icon",onClick:function(){return s(!n)},children:n?Object(c.jsx)(l.c,{}):Object(c.jsx)(l.a,{})}),Object(c.jsxs)("ul",{className:n?"nav-menu active":"nav-menu",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(r.c,{exact:!0,to:"/pokedex",className:"nav-links",activeClassName:"is-active",onClick:i,children:"Poke`dex"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(r.c,{to:"/mypokemons",className:"nav-links",activeClassName:"is-active",onClick:i,children:"MyPokemons"})})]})]})})})})},N=n(23),y=n(42),S=n(233),E=n(100);function w(){var e=Object(E.a)(["\n    query pokemon($name: String!) {\n        pokemon(name: $name) {\n            id\n            name\n            weight\n            height\n            sprites {\n                front_default\n            }\n            abilities {\n                ability {\n                    name\n                    url\n                }\n            }\n            types {\n                type {\n                    name\n                    url\n                }\n            }\n        }\n    }\n"]);return w=function(){return e},e}function C(){var e=Object(E.a)(["\n    query pokemons($limit: Int, $offset: Int) {\n        pokemons(limit: $limit, offset: $offset) {\n            count\n            next\n            previous\n            nextOffset\n            prevOffset\n            status\n            message\n            results {\n                id\n                name\n                image\n            }\n        }\n    }\n"]);return C=function(){return e},e}var I=Object(y.gql)(C()),P=Object(y.gql)(w());n(255);var F=function(e){var t=e.pokemon,n=localStorage.getItem("my-pokemon"),a=!!t.nickname,s=0;return!a&&n?JSON.parse(n).forEach((function(e){e.id===t.id&&s++})):s=0,Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(r.b,{to:"/pokemon/"+t.name+(a?"/"+t.nickname:""),className:"card",children:[Object(c.jsx)("div",{className:"pokemon-image-container",children:Object(c.jsx)("img",{src:t.image,alt:t.name,className:"pokemon-image"})}),Object(c.jsxs)("div",{className:"pokemon-info",children:[Object(c.jsxs)("span",{className:"pokemon-id",children:["#",t.id]}),a?Object(c.jsx)("span",{className:"pokemon-nickname",children:t.nickname}):null,Object(c.jsx)("span",{className:"pokemon-name",children:t.name}),a?null:Object(c.jsxs)("span",{className:"pokemon-owned",children:[" owned: ",s]})]}),a?Object(c.jsx)("span",{className:"mypokemon-id",children:t.mypokemonid}):null]})})};n(256),n(257);var J=function(e){var t=e.text;return Object(c.jsx)("button",{className:"btn",children:t})};var L=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!0),r=Object(o.a)(i,2),l=r[0],m=r[1],j=Object(y.useLazyQuery)(I),d=Object(o.a)(j,2),b=d[0],u=d[1],p=(u.loading,u.data);return Object(a.useEffect)((function(){var e=localStorage.getItem("pokemon-data"),t=localStorage.getItem("pokemon-data-offset"),n=[];e&&(n[0]=JSON.parse(e)),t&&(n[1]=JSON.parse(t)),n.length>0&&s(n),!t&&l&&b({variables:{limit:20,offset:0}})}),[]),Object(a.useEffect)((function(){if(p&&l){var e=n?n[0]:null,t=[];e&&e.forEach((function(e){t.push(e)})),p.pokemons.results.forEach((function(e){t.push(e)}));var c=[];c[0]=t,c[1]=p.pokemons.nextOffset,s(c)}}),[p]),Object(a.useEffect)((function(){n&&(localStorage.setItem("pokemon-data",JSON.stringify(n[0])),localStorage.setItem("pokemon-data-offset",JSON.stringify(n[1])),m(!1))}),[n]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"grid-container",children:n.length>0?Object(c.jsx)(c.Fragment,{children:n[0].map((function(e){return Object(c.jsx)(F,{pokemon:e},e.id)}))}):null}),l?Object(c.jsx)("h1",{children:"Loading..."}):Object(c.jsx)("div",{className:"load-more",onClick:function(){return function(e){var t=localStorage.getItem("pokemon-data-offset");if(e===JSON.parse(t))m(!0),b({variables:{limit:20,offset:e}});else{var n=localStorage.getItem("pokemon-data"),c=localStorage.getItem("pokemon-data-offset"),a=[];a[0]=JSON.parse(n),a[1]=JSON.parse(c),s(a)}}(n[1])},children:Object(c.jsx)(J,{text:"load more"})})]})};n(258);var q=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!0),r=Object(o.a)(i,2),j=r[0],d=r[1],b=localStorage.getItem("my-pokemon"),u=b?JSON.parse(b):null;return Object(a.useEffect)((function(){u&&s(u),d(!1)}),[]),Object(a.useEffect)((function(){}),[j]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"grid-container",children:j?Object(c.jsx)("h1",{children:"Loading..."}):n.length>0?n.map((function(e){return Object(c.jsxs)("div",{className:"card-container",children:[Object(c.jsx)(F,{pokemon:e}),Object(c.jsx)("div",{className:"release-icon-box",onClick:function(){return t=e.mypokemonid,d(!0),u.splice(u.findIndex((function(e){return e.mypokemonid===t})),1),localStorage.setItem("my-pokemon",JSON.stringify(u)),s(u),void d(!1);var t},children:Object(c.jsx)(m.b.Provider,{value:{className:".release-icon"},children:Object(c.jsx)(l.b,{})})})]},e.mypokemonid)})):Object(c.jsx)("h1",{children:"Let's Catch Some Pokemon!"})})})},$=(n(259),function(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};return Object(a.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"modal ".concat(e.show?"show":""," )"),onClick:e.onClose,children:Object(c.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(c.jsx)("div",{className:"modal-header",children:Object(c.jsx)("h4",{children:e.title})}),Object(c.jsx)("div",{className:"modal-body",children:"This is modal content"}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)(c.Fragment,{children:e.catched?Object(c.jsx)("button",{className:"btn-modal",onClick:function(){return t="Sukijem",void e.onSavedPokemon(t);var t},children:"Submit"}):""}),Object(c.jsx)("button",{className:"btn-modal",onClick:e.onClose,children:"Close"})]})]})})})});n(260),n(261);var M=function(){var e=Object(N.g)().name,t=Object(N.g)().nickname,n=Object(a.useState)(),s=Object(o.a)(n,2),i=s[0],r=s[1],l=Object(a.useState)(!0),m=Object(o.a)(l,2),j=m[0],d=m[1],b=Object(y.useLazyQuery)(P,{variables:{name:e}}),u=Object(o.a)(b,2),p=u[0],O=u[1],f=(O.loading,O.data),h=Object(a.useState)(!1),x=Object(o.a)(h,2),v=x[0],g=x[1],k=Object(a.useState)(),S=Object(o.a)(k,2),E=S[0],w=S[1],C=Object(a.useState)(!1),I=Object(o.a)(C,2),F=I[0],L=I[1];return Object(a.useEffect)((function(){d(!0),p()}),[]),Object(a.useEffect)((function(){f&&j&&r(f.pokemon)}),[f]),Object(a.useEffect)((function(){i&&(console.log(i),d(!1))}),[i]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"p-detail-page",children:[Object(c.jsx)($,{title:E,show:v,catched:F,onClose:function(){return g(!1)},onSavedPokemon:function(e){var t=localStorage.getItem("my-pokemon"),n=t?JSON.parse(t):null,c=n?n[n.length-1].mypokemonid+1:1,a=[],s={id:i.id,name:i.name,image:i.sprites.front_default,mypokemonid:c,nickname:e};1===c?a.push(s):(a=n).push(s),localStorage.setItem("my-pokemon",JSON.stringify(a)),alert(e+" have been added to your pokemon list"),g(!1)}}),i?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"p-detail-header-container",children:Object(c.jsxs)("span",{className:"header-text",children:[i.name," \xa0",Object(c.jsxs)("span",{className:"header-id",children:["#",i.id]})]})}),Object(c.jsxs)("div",{className:"p-detail-container",children:[Object(c.jsxs)("div",{className:"p-detail-image-container",children:[Object(c.jsx)("img",{className:"p-detail-image",src:i.sprites.front_default,alt:"image"}),t?Object(c.jsx)("span",{className:"nickname-text",children:t}):Object(c.jsx)("div",{className:"catch-pokemon",onClick:function(){Math.random()>.5?(w("Gotcha!"),L(!0),g(!0)):(w("Oops We've lost it"),L(!1),g(!0))},children:Object(c.jsx)(J,{text:"catch"})})]}),Object(c.jsxs)("div",{className:"p-detail-info-container",children:[Object(c.jsxs)("div",{className:"p-detail-info-box type-".concat(i.types[0].type.name),children:[Object(c.jsxs)("div",{className:"p-detail-info-box-left",children:[Object(c.jsxs)("div",{className:"box-height",children:[Object(c.jsx)("span",{className:"box-text-title",children:"Height"}),Object(c.jsxs)("span",{className:"box-text-value",children:[i.height," ft"]})]}),Object(c.jsxs)("div",{className:"box-weight",children:[Object(c.jsx)("span",{className:"box-text-title",children:"Weight"}),Object(c.jsxs)("span",{className:"box-text-value",children:[i.weight," lbs"]})]})]}),Object(c.jsx)("div",{className:"p-detail-info-box-right",children:Object(c.jsxs)("div",{className:"box-abilities",children:[Object(c.jsx)("span",{className:"box-text-title",children:"Abilities"}),Object(c.jsx)("ul",{className:"abilitiy",children:i.abilities.map((function(e){return Object(c.jsx)("li",{className:"box-text-value abilities",children:Object(c.jsx)("span",{children:e.ability.name})},e.ability.name)}))})]})})]}),Object(c.jsxs)("div",{className:"p-detail-info-type-box",children:[Object(c.jsx)("span",{className:"box-text-title",children:"Type"}),i.types.map((function(e){return Object(c.jsx)("div",{className:"type type-".concat(e.type.name),children:Object(c.jsx)("span",{className:"type-value",children:e.type.name})},e.type.name)}))]})]})]})]}):Object(c.jsx)("span",{children:"Loading.."})]})})},B=n(236);n(262);function T(){var e=Object(E.a)(["\n        font-size: 5rem;\n        font-weigth: bold;\n        text-transform: uppercase;\n        text-align: center;\n        "]);return T=function(){return e},e}var _=function(){return Object(c.jsx)("div",{css:Object(B.a)(T()),className:"not-found",children:"404 Not Found..."})},z=Object(S.a)((function(e){var t=e.graphqlErrors;e.networkError;t&&t.map((function(e){var t=e.message;e.location,e.path;return alert("Graphql error ".concat(t)),null}))})),A=Object(y.from)([z,new y.HttpLink({uri:"https://graphql-pokeapi.vercel.app/api/graphql"})]),G=new y.ApolloClient({cache:new y.InMemoryCache,link:A});var H=function(){return Object(c.jsx)(y.ApolloProvider,{client:G,children:Object(c.jsxs)(r.a,{basename:"/",children:[Object(c.jsx)(k,{}),Object(c.jsx)("div",{className:"container page",children:Object(c.jsxs)(N.d,{children:[Object(c.jsx)(N.b,{exact:!0,path:"/",children:Object(c.jsx)(N.a,{to:"/pokedex",component:L})}),Object(c.jsx)(N.b,{exact:!0,path:"/pokedex",component:L}),Object(c.jsx)(N.b,{exact:!0,path:"/mypokemons",component:q}),Object(c.jsx)(N.b,{exact:!0,path:"/pokemon/:name",component:M}),Object(c.jsx)(N.b,{exact:!0,path:"/pokemon/:name/:nickname",component:M}),Object(c.jsx)(N.b,{exact:!0,path:"*",component:_})]})})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,460)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};n(264),n(274);i.a.render(Object(c.jsx)(H,{}),document.getElementById("root")),Q()}},[[459,1,2]]]);
//# sourceMappingURL=main.3d7ce76c.chunk.js.map